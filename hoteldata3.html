<!doctype html>
<html lang="en">
<!-- 取資料後呈現畫面，並分頁 -->

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Taipei Hotel Data</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
    <script src="js/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script>
        $(function () {
            $.ajax({
                type: "GET",
                url: "https://sigma945.000webhostapp.com/web202403/hoteldata_api.php",
                dataType: "json",
                success: showdata,
                error: function () {
                    alert("error-https://sigma945.000webhostapp.com/web202403/hoteldata_api.php");
                }
            });
        });
        function showdata(data) {
            var newdata = [];
            // 資料結構重構
            data.forEach(function (item, key){
                var strHTML = '<li class="list-group-item border border-4 border-danger shadow shadow-lg mt-3"><div class="h3">旅館名稱: '+ item.name +'</div><h5>住址: '+ item.display_addr +'</h5><h5>電話: '+ item.tel +'</h5><button class="btn btn-success w-100">map</button></li>';
                $("#content").append(strHTML);
                if(key % 10 == 0){
                    newdata.push([]);
                }

                var page = parseInt(key/10) ;
                newdata[page].push(item);
            });
            console.log(newdata);

            // for (var i = 0; i < data.length; i++) {
            //     var strHTML = '';
            //     hotel_name.append(data[i].name);
            //     hotel_addr.append(data[i].display_addr);
            //     hotel_tel.append(data[i].tel);
            // }
        }
    </script>
<div id="container">
    <div class="row justify-content-center">
        <div class="col-md-8 pt-5">
            <ul class="list-group" id="content"></ul>
        </div>
    </div>

    <div class="row mt-3 justify-content-center">
        <nav aria-label="Page navigation">
            <ul class="pagination">
              <li class="page-item">
                <a class="page-link" href="#" aria-label="Previous">
                  <span aria-hidden="true">&laquo;</span>
                </a>
              </li>
              <li class="page-item"><a class="page-link" href="#">1</a></li>
              <li class="page-item">
                <a class="page-link" href="#" aria-label="Next">
                  <span aria-hidden="true">&raquo;</span>
                </a>
              </li>
            </ul>
          </nav>
    </div>
</div>
</body>

</html>